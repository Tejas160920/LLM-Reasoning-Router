<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Reasoning Router</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                        </svg>
                    </div>
                    <div class="logo-text">
                        <span class="logo-title">Reasoning Router</span>
                        <span class="logo-subtitle">Smart AI Gateway</span>
                    </div>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-section">
                <h3 class="section-title">Session Analytics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon requests-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-requests">0</span>
                            <span class="stat-label">Total Requests</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon fast-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-fast">0</span>
                            <span class="stat-label">Flash Model</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon complex-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                <line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-complex">0</span>
                            <span class="stat-label">Pro Model</span>
                        </div>
                    </div>
                    <div class="stat-card highlight">
                        <div class="stat-icon savings-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"/>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                            </svg>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-savings">$0.00</span>
                            <span class="stat-label">Cost Saved</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- How it works -->
            <div class="info-section">
                <h3 class="section-title">How It Works</h3>
                <div class="steps">
                    <div class="step">
                        <div class="step-num">1</div>
                        <span>Analyze prompt complexity</span>
                    </div>
                    <div class="step">
                        <div class="step-num">2</div>
                        <span>Route to optimal model</span>
                    </div>
                    <div class="step">
                        <div class="step-num">3</div>
                        <span>Validate response quality</span>
                    </div>
                    <div class="step">
                        <div class="step-num">4</div>
                        <span>Escalate if needed</span>
                    </div>
                </div>
            </div>

            <div class="sidebar-footer">
                <span>Built with FastAPI + Gemini</span>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main">
            <!-- Analysis Panel -->
            <div class="analysis-panel" id="analysis-panel">
                <div class="analysis-header">
                    <h2>Routing Analysis</h2>
                    <div class="model-badge" id="model-badge">
                        <span class="badge-dot"></span>
                        <span id="model-tier">Waiting</span>
                    </div>
                </div>

                <div class="analysis-content">
                    <div class="metrics-row">
                        <!-- Complexity -->
                        <div class="metric-card">
                            <div class="metric-header">
                                <span class="metric-label">Complexity</span>
                                <span class="metric-value" id="complexity-score">--</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill complexity" id="complexity-bar" style="width: 0%"></div>
                            </div>
                            <span class="metric-level" id="complexity-level">Waiting...</span>
                        </div>

                        <!-- Quality -->
                        <div class="metric-card">
                            <div class="metric-header">
                                <span class="metric-label">Quality</span>
                                <span class="metric-value" id="quality-score">--</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill quality" id="quality-bar" style="width: 0%"></div>
                            </div>
                            <span class="metric-level" id="quality-label">Waiting...</span>
                        </div>
                    </div>

                    <!-- Signals -->
                    <div class="signals-row">
                        <span class="signals-label">Detected Signals:</span>
                        <div class="signals-container" id="signals-container">
                            <span class="no-signals">None yet</span>
                        </div>
                    </div>

                    <!-- Model Info -->
                    <div class="model-info">
                        <div class="model-detail">
                            <span class="detail-label">Model</span>
                            <span class="detail-value" id="model-name">--</span>
                        </div>
                        <div class="model-detail">
                            <span class="detail-label">Latency</span>
                            <span class="detail-value" id="latency-display">--</span>
                        </div>
                        <div class="model-detail">
                            <span class="detail-label">Tokens</span>
                            <span class="detail-value" id="tokens-display">--</span>
                        </div>
                        <div class="model-detail">
                            <span class="detail-label">Cost</span>
                            <span class="detail-value" id="cost-display">--</span>
                        </div>
                    </div>

                    <!-- Reasoning -->
                    <div class="reasoning-box">
                        <span class="reasoning-label">Routing Decision</span>
                        <p id="routing-reasoning">Submit a prompt to see the routing analysis...</p>
                    </div>
                </div>
            </div>

            <!-- Chat Area -->
            <div class="chat-area">
                <div class="chat-messages" id="chat-messages">
                    <div class="welcome-message">
                        <div class="welcome-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                            </svg>
                        </div>
                        <h2>LLM Reasoning Router</h2>
                        <p>Intelligent model routing based on prompt complexity analysis</p>
                        <div class="sample-prompts">
                            <span class="samples-label">Try an example:</span>
                            <div class="sample-buttons">
                                <button class="sample-btn" data-prompt="What is Python?">
                                    <span class="sample-icon simple"></span>
                                    Simple
                                </button>
                                <button class="sample-btn" data-prompt="Explain how a binary search tree works and when to use it">
                                    <span class="sample-icon medium"></span>
                                    Medium
                                </button>
                                <button class="sample-btn" data-prompt="Debug this Python code step by step and explain what is wrong:

```python
def factorial(n):
    if n == 0:
        return 1
    return n * factorial(n)
```

Why does this cause infinite recursion? Provide a corrected version.">
                                    <span class="sample-icon complex"></span>
                                    Complex
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="input-area">
                    <div class="input-container">
                        <textarea id="prompt-input" placeholder="Enter your prompt..." rows="1"></textarea>
                        <button id="send-btn" class="send-btn" title="Send (Ctrl+Enter)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="22" y1="2" x2="11" y2="13"/>
                                <polygon points="22 2 15 22 11 13 2 9 22 2"/>
                            </svg>
                        </button>
                    </div>
                    <div class="input-footer">
                        <span class="hint">Press <kbd>Ctrl</kbd> + <kbd>Enter</kbd> to send</span>
                        <button id="clear-btn" class="clear-btn">Clear Chat</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
